## 💡 프로젝트 소개
MVC2 구조로 구현한 전통주 판매 쇼핑몰입니다. Tailwind CSS를 사용하여 디자인하였고, kakao API에서 AccessToken을 받기위해 JAVA에서 JSON을 파싱하는 용도로 GSON라이브러리를 사용했습니다.<br>
제가 맡은 프론트&백앤드 부분은 로그인/회원가입, 로그아웃, kakao API 소셜로그인(성인인증), 메일인증, 아이디/비밀번호 찾기 기능입니다.

#### 🧙진행 기간
* 22.1.02 - 23.4.09<br>
**인원** : 5명
- 김민지, 강홍구, 최유진, 최광열, 이선우

### ⚙️ 개발 환경
- **개발언어** : Java 8, JDK 1.8.0, jstl...
- **라이브러리** : Jquery, GSON
- **프레임워크** : Tailwind CSS
- **개발도구** : Eclipse, VS Code
- **웹서버** : Apache Tomcat (v9.0)
- **데이타 베이스** : Oracle DB(11g)

## 💡 맡은 주요 기능
- 로그인/회원가입, 메인페이지, 로그아웃 : CRUD
- 소셜로그인 : kakao API, 성인인증 기능 추가
- 아이디/비밀번호 찾기 : 메일인증

## 💡 DB 설계(ERD)
![image](https://github.com/RedNine97/KIC4_Project3/assets/117744969/7c954ef8-6954-4e7a-aaf3-4787bfd2464d)

## 💡 개발 내용
**밸로그 링크** <br>
[로그인/회원가입](https://velog.io/@ghdrn221/%EC%A3%BC%EB%A5%98-%ED%8C%90%EB%A7%A4-%EC%87%BC%ED%95%91%EB%AA%B0)<br>
[id/pwd 찾기1](https://velog.io/@ghdrn221/%ED%8C%80%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%A3%BC%EB%A5%98-%ED%8C%90%EB%A7%A4-%EC%87%BC%ED%95%91%EB%AA%B02)<br>
[id/pwd 찾기2](https://velog.io/@ghdrn221/%ED%8C%80%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8idpwd-%EC%B0%BE%EA%B8%B02)<br>
[zpcode el](https://velog.io/@ghdrn221/%ED%8C%80%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8zpcode-el-DB-%ED%85%8C%EC%9D%B4%EB%B8%94) (막혔던 부분)<br> 
[id/pwd 찾기3](https://velog.io/@ghdrn221/%ED%8C%80%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8idpwd-%EC%B0%BE%EA%B8%B03)<br>
[id/pwd 찾기4](https://velog.io/@ghdrn221/%ED%8C%80%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8idpwd-%EC%B0%BE%EA%B8%B04)<br>
[소셜로그인](https://velog.io/@ghdrn221/%ED%8C%80%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%86%8C%EC%85%9C%EB%A1%9C%EA%B7%B8%EC%9D%B8) (막혔던 부분2)<br>
[소셜로그인2](https://velog.io/@ghdrn221/%ED%8C%80%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%86%8C%EC%85%9C%EB%A1%9C%EA%B7%B8%EC%9D%B82)<br>
[메인페이지](https://velog.io/@ghdrn221/%EB%A9%94%EC%9D%B8%ED%8E%98%EC%9D%B4%EC%A7%80)<br>

## 💡 비즈니스 로직
전통주 판매 쇼핑몰인 술주랑 팀 프로젝트에 대해 비즈니스 로직을 설명하겠습니다. 먼저, 서버는 Apache Tomcat 9.0버전을 사용하였고, DB는 Oracle11g 를 사용했습니다. 화면구현은 HTML5, CSS3, JavaScript 언어를 사용하였으며, Taillwind CSS 라이브러리를 이용하여 구현했습니다. 기능개발은 Java언어로 JSP를 사용하여 MVC2 구조로 기능을 구현했습니다. 제가 맡은 화면구현 및 기능 개발 부분은 메인페이지, 계정 로그인 및 소셜 로그인, 계정 회원가입, 로그아웃, 아이디 찾기 및 비밀번호 찾기 기능을 개발했습니다. 

메인페이지는 사용자가 사이트에 접속했을 때 가장 먼저 보이는 페이지로 이벤트 배너와 베스트 상품 및 추천 상품 목록을 데이터베이스에서 조회하여 표시합니다. 상품은 규칙적인 랜덤을 방지하여 랜덤 객체를 생성하고 추천상품은 12개, 베스트 상품은 10개를 표시합니다.

계정 로그인은 사용자가 아이디와 비밀번호를 입력하여 로그인하는 기능으로 유효성검사와 함께 데이터베이스에 아이디와 비밀번호만 저장된 정보와 일치하는지 확인합니다. 일치하는 경우 세션에 저장하여  header에 로그인 ID와 로그인 체크 값을 전달합니다. 인증이 실패하는 경우에는 오류 페이지로 이동하여 사용자에게 알려줍니다.

소셜로그인은 사용자가 카카오를 선택하여 로그인하는 기능으로 소셜 로그인 버튼을 클릭하면, 카카오 인증 서버에 사용자 인증을 요청합니다. 사용자가 카카오 계정 정보를 입력하여 로그인하면, 카카오 인증 서버에서 인가코드를 발급합니다. 카카오 서버에서 받는 데이터는 자바에서 JSON형식으로 넘어오기 때문에 GSON 라이브러리로 파싱하여 받아옵니다. 사용자의 동의를 받으면, 인가코드로 액세스 토큰을 발급 받아 바로 사용자 정보를 불러오고 DB에서 체크하여 ID가 있다면 로그인하고 없다면 회원가입 되어 로그인합니다. 이후, 세션에 아이디와 프로필 사진 및 액세스 토큰을 저장하여 header에 전달합니다. 성인이 아닌 경우에는 에러 페이지로 이동합니다.

계정 회원가입은 사용자가 필요한 정보를 입력하여 새로운 회원으로 가입하는 기능입니다. 사용자가 입력한 정보의 유효성을 검사합니다. 또한,  DB에 조회하여 중복 ID를 체크하고 우편번호와 주소를 불러오거나 직접 작성하여 값을 입력합니다. 유효성 검사를 통과하면 회원 정보를 DB에 저장하고 로그인 페이지로 이동합니다. 회원가입을 실패 할 경우 에러페이지로 이동합니다.

로그아웃은 사용자가 로그아웃 버튼을 클릭하면 현재 세션을 종료하고 세션 정보를 삭제합니다. 세션 종료 후에는 로그아웃 상태가 되어 로그인이 필요한 기능에 접근 할 수 없습니다.

아이디 찾기는 사용자가 등록한 이메일과 휴대전화 번호를 이용하여 아이디를 찾는 기능으로 회원 정보를 DB에서 조회하여 입력 받은 값과 일치하고 사용자 메일로 발송된 랜덤 인증코드가 일치하면 해당 회원의 아이디를 모두 표시합니다. 일치하는 회원 정보가 없거나 입력 받은 값이 다르다면 오류 메시지를 표시합니다.

비밀번호 찾기는 사용자가 등록한 아이디와 이메일 및 이름을 입력하여 비밀번호를 재설정하는 기능입니다. 사용자가 아이디를 입력하면 DB에서 중복되는 아이디인지 확인하고 틀리면 에러 메시지 맞으면 이름 및 이메일 주소를 입력 받고 사용자 메일로 발송된 랜덤 인증코드까지 일치하면 새로운 비밀번호를 입력 받아 회원의 비밀번호를 업데이트합니다.

## 💡 느낀점
프론트엔드에서는 프레임워크인 Tailwind CSS를 다뤄볼수있었고, 반응형 웹을 구현할수있게 되었습니다. 유효성검사 등의 기능을 자바스크립트와 Jquery, Ajax를 사용해서 구현할수 있게되었습니다.
백엔드에서는 프로젝트를 하면서 mvc2구조에 대해서 정확히 알수있었고, 로그인/회원가입을 구현하면서 crud를 어느정도 할수있게 되었습니다. 카카오 소셜로그인을 구현하면서 API를 사용해봤고, json객체를 파싱해 볼 수도 있었습니다.
